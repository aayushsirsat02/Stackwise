{% extends "base.html" %}
{% load static %} {% block title %}StackWise â€“ AI Tech Stack{% endblock %}

{% block content %}
<style>
/* =========================
   GLOBAL SAFETY RESET
========================= */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html, body {
    width: 100%;
    overflow-x: hidden;
}

/* =========================
   MAIN CONTAINER
========================= */
.main-form-container {
    width: 100%;
    max-width: 1000px;
    margin: 24px auto;
    padding: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

/* =========================
   HEADER
========================= */
.form-header {
    text-align: center;
    margin-bottom: 24px;
}

.form-header h1 {
    font-size: clamp(24px, 5vw, 34px);
    font-weight: 700;
}

.form-header p {
    font-size: clamp(14px, 3.5vw, 16px);
    color: #6b7280;
}

/* =========================
   FORM CARD
========================= */
.stackwise-form {
    width: 100%;
    background: #ffffff;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.08);
}

/* =========================
   SECTION TITLE
========================= */
.form-section-title {
    margin-bottom: 20px;
}

.form-section-title h2 {
    font-size: clamp(18px, 4vw, 22px);
}

.form-section-title p {
    font-size: 14px;
    color: #6b7280;
}

/* =========================
   GRID SYSTEM
========================= */
.flex-form-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
    width: 100%;
}

.form-group {
    width: 100%;
    display: flex;
    flex-direction: column;
}

.full-width {
    grid-column: 1 / -1;
}

/* =========================
   INPUTS
========================= */
label {
    font-weight: 600;
    margin-bottom: 6px;
    font-size: 14px;
}

select,
textarea {
    width: 100%;
    max-width: 100%;
    padding: 14px;
    font-size: 16px;
    border-radius: 10px;
    border: 1px solid #d1d5db;
}

select:focus,
textarea:focus {
    outline: none;
    border-color: #2563eb;
}

/* =========================
   BUTTON
========================= */
.submit-button {
    width: 100%;
    margin-top: 24px;
    padding: 16px;
    font-size: 17px;
    font-weight: 700;
    border-radius: 12px;
    border: none;
    background: linear-gradient(135deg, #2563eb, #1e40af);
    color: white;
    cursor: pointer;
}

/* =========================
   TABLET & DESKTOP (â‰¥ 768px)
========================= */
@media (min-width: 768px) {

    .main-form-container {
        padding: 24px;
    }

    .stackwise-form {
        padding: 28px;
    }

    .flex-form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 20px;
    }

    label {
        font-size: 15px;
    }

    select,
    textarea {
        font-size: 15px;
    }

    .submit-button {
        font-size: 18px;
        padding: 18px;
    }
}

/* =========================
   LARGE DESKTOP (â‰¥ 1200px)
========================= */
@media (min-width: 1200px) {
    .main-form-container {
        max-width: 1100px;
    }
}
</style>



<div class="main-form-container">
    <div class="form-header">
        <h1>StackWise</h1>
        <p>Your AI-Powered Tech Stack Recommendation Engine.</p>
    </div>

    <form method="post" action="{% url 'service_view' %}" class="stackwise-form">

        {% csrf_token %}

        <div class="form-section-title">
            <h2>Project Requirements</h2>
            <p>Tell us about your project to get the best stack suggestion.</p>
        </div>

        <div class="flex-form-grid">
            
            <div class="form-group">
                <label for="id_app_type">Application Type</label>
                <select name="app_type" id="id_app_type" required>
                    <option value="web">Web Application</option>
                    <option value="mobile">Mobile Application</option>
                    <option value="api">API Only</option>
                </select>
            </div>

            <div class="form-group">
                <label for="id_audience">Target Audience</label>
                <select name="audience" id="id_audience" required>
                    <option value="students">Students</option>
                    <option value="general">General Public</option>
                    <option value="enterprise">Enterprise / Business</option>
                    <option value="internal">Internal Team</option>
                </select>
            </div>

            <div class="form-group">
                <label for="id_users">Expected Number of Users</label>
                <select name="users" id="id_users" required>
                    <option value="100">Up to 100</option>
                    <option value="1000">Up to 1,000</option>
                    <option value="5000">Up to 5,000</option>
                    <option value="10000">10,000+</option>
                </select>
            </div>

            <div class="form-group">
                <label for="id_team_size">Development Team Size</label>
                <select name="team_size" id="id_team_size" required>
                    <option value="solo">Solo Developer</option>
                    <option value="small">Small Team (2â€“5)</option>
                    <option value="medium">Medium Team (5â€“10)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="id_budget">Budget</label>
                <select name="budget" id="id_budget" required>
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
            </div>

            <div class="form-group">
                <label for="id_priority">Primary Priority</label>
                <select name="priority" id="id_priority" required>
                    <option value="cost">Cost Efficiency</option>
                    <option value="speed">Fast Development</option>
                    <option value="scalability">Scalability</option>
                    <option value="security">Security</option>
                </select>
            </div>
            
             <div class="form-group full-width">
                <label for="id_auth">Authentication Required?</label>
                <select name="auth" id="id_auth" required>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
            </div>
        </div>
        <div class="form-group full-width">
            <label for="id_notes">Additional Notes (Optional)</label>
            <textarea name="notes" id="id_notes" rows="4" placeholder="Any specific requirements or ideas..."></textarea>
        </div>

        <button type="submit" class="submit-button">Get Recommendation</button>
    </form>
    
    {% if result %}
    <hr class="result-separator">
    <div id="ai-result" class="ai-result-section">
        <h3>ðŸš€ AI Recommended Tech Stack</h3>
        <div class="recommendation-content">
             {{ result | safe }}
        </div>
    </div>

    <script>
        document.getElementById("ai-result").scrollIntoView({ behavior: "smooth" });
    </script>
    {% endif %}

</div> {% endblock %}